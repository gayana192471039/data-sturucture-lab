#include <stdio.h>
#include <stdlib.h>
int main() {
    int r, c;
    printf("Enter rows and columns: ");
    if (scanf("%d %d", &r, &c) != 2 || r <= 0 || c <= 0) return 0;
    int **mat = malloc(r * sizeof(int*));
    for (int i = 0; i < r; ++i) mat[i] = malloc(c * sizeof(int));
    printf("Enter matrix elements row-wise:\n");
    for (int i = 0; i < r; ++i)
        for (int j = 0; j < c; ++j)
            scanf("%d", &mat[i][j]);
    for (int i = 0; i < r; ++i) {
        long long sum = 0;
        for (int j = 0; j < c; ++j) sum += mat[i][j];
        printf("Sum of row %d = %lld\n", i, sum);
    }
    for (int j = 0; j < c; ++j) {
        long long sum = 0;
        for (int i = 0; i < r; ++i) sum += mat[i][j];
        printf("Sum of column %d = %lld\n", j, sum);
    }
    for (int i = 0; i < r; ++i) free(mat[i]);
    free(mat);
    return 0;
}
